// scSplitDateTime 0.1.0 | MIT & BSD Licence | http://github.com/stucox
var scSplitDateTime=(function(){function pad(n){return parseInt(n,10)<10?'0'+n:n.toString();}
function splitDateString(dateString){var dt=new Date(dateString);if(dt=='Invalid Date'){return['',''];}
var date=pad(dt.getFullYear())+'-'+pad(dt.getMonth()+1)+'-'+pad(dt.getDate()),time=pad(dt.getHours())+':'+pad(dt.getMinutes());return[date,time];}
function wrap(el_,nodeName){var wrapper_=document.createElement(nodeName);el_.parentNode.insertBefore(wrapper_,el_);wrapper_.appendChild(el_);return wrapper_;}
function update(datetime_,date_,time_){var date=new Date(date_.value),time=new Date('1970-01-01T'+time_.value);if(date=='Invalid Date'||time=='Invalid Date'){datetime_.removeAttribute('value');}
else{datetime_.value=pad(date.getFullYear())+'-'+pad(date.getMonth()+1)+'-'+pad(date.getDate())+' '+pad(time.getHours())+':'+pad(time.getMinutes());}}
function init(datetime_){var container_=wrap(datetime_,'span'),date_=datetime_.cloneNode(true),time_=datetime_.cloneNode(true);container_.className='scsplitdatetime';date_.setAttribute('type','date');time_.setAttribute('type','time');date_.id='';time_.id='';datetime_.type='hidden';var valueDateAndTime=splitDateString(datetime_.getAttribute('value'));var minDateAndTime=splitDateString(datetime_.getAttribute('min'));var maxDateAndTime=splitDateString(datetime_.getAttribute('max'));date_.setAttribute('value',valueDateAndTime[0]);date_.setAttribute('min',minDateAndTime[0]);date_.setAttribute('max',maxDateAndTime[0]);time_.setAttribute('value',valueDateAndTime[1]);time_.removeAttribute('min');time_.removeAttribute('max');date_.removeAttribute('name');time_.removeAttribute('name');var events=['change','blur'],updateHandler=function(){update(datetime_,date_,time_);};for(var i in events){if(container_.addEventListener){container_.addEventListener(events[i],updateHandler,false);}
else{container_.attachEvent(events[i],updateHandler);}}
container_.appendChild(date_);container_.appendChild(time_);}
return init;})();